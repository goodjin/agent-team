# 4.3.2 启动脚本和守护进程

## 任务描述
创建系统启动脚本和守护进程机制。

## 输入
- 无

## 输出
- `src/start.ts` - 启动入口
- `src/daemon.ts` - 守护进程实现

## 验收标准
1. 能够启动 Web 服务器
2. 异常退出后自动重启
3. 任务数据持久化
4. 重启后自动恢复执行

## 依赖任务
- 1.1.1 Express 服务器基础架构
- 2.1.1 TaskManager 任务管理模块
- 3.1.2 Checkpoint 断点管理器

## 估计工时
3h

## 优先级
高

## 任务内容
1. 创建 `src/start.ts`
   - 启动入口
   - 加载配置
   - 初始化各模块
   - 启动服务器

2. 创建 `src/daemon.ts`
   - 守护进程类
     - start(): 启动系统
     - stop(): 停止系统
     - restart(): 重启系统
     - onCrash(callback): 崩溃回调

   - 崩溃检测
     - 监听进程退出事件
     - 记录崩溃信息
     - 自动重启

3. 任务恢复逻辑
   - 启动时扫描未完成任务
   - 加载最新断点
   - 恢复任务执行

4. 启动脚本
   - `package.json` 添加 start 脚本
   - `bin/agent-team` 可执行文件
