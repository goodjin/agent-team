---
status: pending
priority: P2
estimated_hours: 12
created: 2026-02-04
updated: 2026-02-04
---

# P2.3 前端工作流页面

## 任务信息

| 属性 | 值 |
|------|-----|
| 状态 | pending |
| 优先级 | P2 |
| 预估工时 | 12h |
| 负责人 | - |
| 关联任务 | P2.1, P2.2 |

## 描述

完善前端工作流管理界面，包括编辑器和执行监控。

## 页面功能

### 工作流列表页

- [ ] 工作流卡片列表
- [ ] 执行次数统计
- [ ] 最后执行时间
- [ ] 状态标签（草稿/已发布/已归档）
- [ ] 创建工作流按钮

### 工作流编辑器

- [ ] 拖拽式步骤添加
- [ ] 步骤类型选择
- [ ] 角色/配置设置
- [ ] 连线配置（步骤流转）
- [ ] 预览模式
- [ ] 保存/发布

### 执行详情页

- [ ] 可视化流程图
- [ ] 当前执行步骤高亮
- [ ] 执行日志
- [ ] 输入/输出查看
- [ ] 停止执行按钮

## 页面结构

```
/workflows
├── 页面标题
├── 创建工作流按钮
├── 工作流卡片网格
│   ├── 卡片：名称和描述
│   ├── 卡片：执行次数
│   └── 卡片：操作按钮
└── 工作流详情/编辑器页面
    ├── 画布区域
    │   ├── 步骤节点
    │   └── 连接线
    ├── 属性面板
    └── 工具栏
```

## API 调用

- [ ] `GET /api/workflows` - 获取列表
- [ ] `POST /api/workflows` - 创建
- [ ] `PUT /api/workflows/:id` - 更新
- [ ] `DELETE /api/workflows/:id` - 删除
- [ ] `POST /api/workflows/:id/execute` - 执行
- [ ] `GET /api/workflows/:id/executions` - 执行历史

## 修改文件

- [ ] `public/app.js` - `loadWorkflows()`, `renderWorkflows()`
- [ ] `public/index.html` - workflows 页面
- [ ] `public/workflow-editor.js` (新建)
- [ ] `public/workflow-visualizer.js` (新建)

## UI 设计参考

```
┌─────────────────────────────────────────────────────────┐
│ 🔄 工作流                                    [+ 新建]    │
├─────────────────────────────────────────────────────────┤
│ [全部] [已发布] [草稿]                                  │
├─────────────────────────────────────────────────────────┤
│ ┌─────────────────┐ ┌─────────────────┐                 │
│ │ 📋 新功能开发    │ │ 🔧 Bug 修复流程  │                 │
│ │ 📝 5 步流程     │ │ 📝 3 步流程     │                 │
│ │ ▶ 执行: 12次    │ │ ▶ 执行: 8次     │                 │
│ │ 🕐 2小时前      │ │ 🕐 1天前       │                 │
│ └─────────────────┘ └─────────────────┘                 │
└─────────────────────────────────────────────────────────┘
```

---

## 完成记录

| 日期 | 操作 | 负责人 |
|------|------|--------|
| - | - | - |
